var OS=function(){function i(){this.os=null}return i.detect=function(e){var a=e.replace("_",".");for(var n in i.list)if(i.list.hasOwnProperty(n)&&i.list[n].reg.test(a))return i.list[n];var o=null;for(var r in i.family)if(i.family.hasOwnProperty(r)&&i.family[r].reg.test(a)){o=r;break}if(!o){console.warn("Не удалось определить ОС для значения UserAgent "+a+" :: "+typeof a);return}var l=i.family[o],s=parseFloat((l.version.exec(a)||[null]).pop())||l.available;return{isAvailable:s>=l.available,name:l.name,version:s,family:l}},i.family={Windows:{name:"Windows",reg:/Windows/i,version:/Windows NT ([0-9]{1,}[\.0-9]{0,})/i,available:5.1},Android:{name:"Android",reg:/Android/i,version:/Android ([0-9]{1,}[\.0-9]{0,})/i,available:0},Unix:{name:"Unix",reg:/unix/i,version:RegExp(""),available:0},Linux:{name:"Linux",reg:/linux/i,version:RegExp(""),available:0},IOS:{name:"IOS",reg:/(iPhone|iPad|iPod)/i,version:/\bOS\s(\d+)/i,available:12},MacOS:{name:"MacOS",reg:/(Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i,version:/Mac OS X ([0-9]{1,}[\.0-9]{0,})/i,available:0},Robot:{name:"Robot",reg:/bot|crawler|spider|crawling/i,version:RegExp(""),available:0},ChromeOS:{name:"Chrome OS",reg:/CrOS/i,version:/CrOS (x86\.64|aarch64|armv7l|i686) (\d+)/i,available:0}},i.list={Windows10:{name:"Windows 10",reg:/(Windows 10.0|Windows NT 10.0)/i,family:i.family.Windows,version:10,isAvailable:!0},Windows8_1:{name:"Windows 8.1",reg:/(Windows 8.1|Windows NT 6.3)/i,family:i.family.Windows,version:6.3,isAvailable:!0},Windows8:{name:"Windows 8",reg:/(Windows 8|Windows NT 6.2)/i,family:i.family.Windows,version:6.2,isAvailable:!0},Windows7:{name:"Windows 7",reg:/(Windows 7|Windows NT 6.1)/i,version:6.1,family:i.family.Windows,isAvailable:!0},WindowsVista:{name:"Windows Vista",reg:/Windows NT 6.0/i,family:i.family.Windows,version:6,isAvailable:!1},WindowsServer2003:{name:"Windows Server 2003",reg:/Windows NT 5.2/i,family:i.family.Windows,version:5.2,isAvailable:!1},WindowsXP:{name:"Windows XP",reg:/(Windows NT 5.1|Windows XP)/i,version:5.1,family:i.family.Windows,isAvailable:!1},Windows2000:{name:"Windows 2000",reg:/(Windows NT 5.0|Windows 2000)/i,version:5,family:i.family.Windows,isAvailable:!1},WindowsME:{name:"Windows ME",reg:/(Win 9x 4.90|Windows ME)/i,version:4.9,family:i.family.Windows,isAvailable:!1},Windows98:{name:"Windows 98",reg:/(Windows 98|Win98)/i,version:4.5,family:i.family.Windows,isAvailable:!1},Windows95:{name:"Windows 95",reg:/(Windows 95|Win95|Windows_95)/i,version:4.2,family:i.family.Windows,isAvailable:!1},WindowsNT4_0:{name:"Windows NT 4.0",reg:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/i,version:4,family:i.family.Windows,isAvailable:!1},WindowsCE:{name:"Windows CE",reg:/Windows CE/i,version:3.5,family:i.family.Windows,isAvailable:!1},Windows3_11:{name:"Windows 3.11",reg:/Win16/i,version:3.11,family:i.family.Windows,isAvailable:!1}},i}(),Browser=function(){function i(){}return i.detect=function(e){var a=e.replace("_",".").toLowerCase(),n=null;for(var o in i.family)if(i.family.hasOwnProperty(o)&&i.family[o].reg.test(a)){n=o;break}if(!n){console.warn("Не удалось определить браузер для значения UserAgent "+a+" :: "+typeof a);return}var r=i.family[n],l=r.version,s=l.reg,$=l.available,t=l.availableForIESaby,u=parseFloat((s.exec(a)||[null]).pop())||$;return{isAvailable:u>=(isDomenForIE()?t:$),isCompatibleMode:function i(e){if(!e||!/Trident/i.test(e))return!1;var a=parseFloat((/Trident\/([0-9]{1,}[.0-9]{0,})/i.exec(e)||[0]).pop());return parseFloat((/(MSIE |rv:)([0-9]{1,}[.0-9]{0,})/i.exec(e)||[0]).pop())!==4+a}(a)||document.documentMode&&u!==document.documentMode,name:r.name,version:u,family:r}},i.family={YaBrowser:{name:"Яндекс Браузер",reg:/\bYaBrowser\/(\d+)/i,version:{reg:/YaBrowser\/([0-9]{1,}[\.0-9]{0,})/i,available:20.9,availableForIESaby:17.4}},Firefox:{name:"Firefox",reg:/Firefox/i,version:{reg:/Firefox\/([0-9]{1,}[\.0-9]{0,})/i,available:79,availableForIESaby:51}},OperaChrome:{name:"Opera",reg:/(OPR)/i,version:{reg:/OPR\/([0-9]{1,}[\.0-9]{0,})/i,available:71,availableForIESaby:44}},Chrome:{name:"Chrome",reg:/Chrome(?!.*Edg\w{0,3}|.*SputnikBrowser)/i,version:{reg:/Chrome\/([0-9]{1,}[\.0-9]{0,})/i,available:85,availableForIESaby:57}},Opera:{name:"Opera",reg:/(Opera)/i,version:{reg:/(Opera|Version)\/([0-9]{1,}[\.0-9]{0,})/i,available:71,availableForIESaby:44}},Edge:{name:"Microsoft Edge",reg:/Edg\w{0,3}/i,version:{reg:/Edg\w{0,3}\/([0-9]+[\.0-9]*)/i,available:85,availableForIESaby:17}},IE:{name:"Internet Explorer",reg:/MSIE|rv\:/i,version:{reg:/(MSIE |rv:[ ]?)([0-9]{1,}[\.0-9]{0,})/i,available:11,availableForIESaby:11}},Safari:{name:"Safari",reg:/^((?!chrome|android|mobile).)*safari/i,version:{reg:/(Version)\/([0-9]{1,}[\.0-9]{0,})/i,available:14,availableForIESaby:12}},SafariMobile:{name:"Safari Mobile",reg:/.*Mobile.*Safari/i,version:{reg:/Version\/+([\w.]+).*Mobile.*Safari/i,available:14,availableForIESaby:12}},AppleWebkit:{name:"AppleWebkit Mobile",reg:/.*applewebkit.*mobile/i,version:{reg:/\bOS\s(\d+)/i,available:14,availableForIESaby:12}},AppleWebkitSbis:{name:"AppleWebkit Sbis",reg:/SbisBusinessMobile/i,version:{reg:/SbisBusinessMobile\/(\d+\.\d+)/i,available:0,availableForIESaby:0}},Sputnik:{name:"Спутник",reg:/SputnikBrowser/i,version:{reg:/SputnikBrowser\/(\d+\.\d+\.\d+)/i,available:100,availableForIESaby:100}}},i}();function isSoftwareAvailable(i){var e=Browser.detect(i),a=OS.detect(i);return!e||!a||e.isAvailable&&a.isAvailable||e.family===Browser.family.YaBrowser&&isOldWindows(i)}function isDomenForIE(){var i=location.hostname.split(".");return 3===i.length&&i[0].split("-").some(function(i){return"ie"==i})}function isOldWindows(i){var e=OS.detect(i);return e.version>=OS.list.WindowsXP.version&&e.version<=OS.list.WindowsVista.version}function chechYandexForOldWindows(i){return Browser.detect(i).family===Browser.family.YaBrowser&&isOldWindows(i)}function allowWorkInIE(i){return Browser.detect(i).isAvailable&&isDomenForIE()}!function(){i=window.navigator.userAgent,(/(iPod|iPhone|iPad)/.test(i)||/\bMac\s+OS\s+X\b/.test(i)&&navigator&&navigator.maxTouchPoints>0)&&(document.cookie="machine_is_ipad=true;path=/"),e=!1,window.PointerEvent&&"maxTouchPoints"in navigator?navigator.maxTouchPoints>0&&(e=!0):window.matchMedia&&window.matchMedia("(any-pointer:coarse)").matches?e=!0:(window.TouchEvent||"ontouchstart"in window)&&(e=!0),e&&(document.cookie="is_multitouch=true;path=/");for(var i,e,a,n,o,r,l,s,$,t,u=window.location.href.split("?").pop().split("&"),d=0;d<u.length;d++){var v=u[d].split("=");if("nocheck"==v.shift()&&"1"===v.pop())return}if(isDomenForIE())allowWorkInIE(window.navigator.userAgent)||m();else{if(chechYandexForOldWindows(window.navigator.userAgent)){n=window.location.href.split(window.location.host).pop(),o=location.host.split("."),r=o[0],l=r.split("-"),s=0,$=l.filter((i,e)=>{var a=["test","dev"].includes(i);return a&&(s=e),a}),["sap","1c"].includes(l[l.length-1])||(l=l.slice(0,-1)),$.length?($[0]+="-ie",l[s]=$[0],a=l.join("-")):a=["ie",r].join("-"),o[0]=a,o[1]="saby",t=o.join("."),window.location.href=window.location.protocol+"//"+t+n;return}isSoftwareAvailable(window.navigator.userAgent)||m()}function m(){var i="/cdn/Maintenance/1.0.23/html/diagnostic.html",e=window.location.href.split(window.location.host).pop();window.location.pathname!==i&&(window.location.href=window.location.protocol+"//"+window.location.host+i+"?ret="+e)}}();