/**
 * https://online.sbis.ru/opendoc.html?guid=ad06b921-2e45-4e3a-97da-8a28d85d5a51
 * Сборка boomerang, включает в себя плагины:
     "plugins/continuity.js",
     "plugins/navtiming.js",
     "plugins/eventtiming.js",
     "plugins/painttiming.js"

     UPD v.0.0.1: удалены обработчики beforeunload
     UPD v.0.0.3: удалены вызовы getBattery: https://online.sbis.ru/opendoc.html?guid=2ab27924-ac20-4fd2-b498-c0647edf172d
     UPD v.0.0.4: остались только используемые плагины: https://online.sbis.ru/doc/d72ebb1d-206e-4844-86be-5b2c7954da66
 */

BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(n){BOOMR.isCrossOriginError(n)||BOOMR.addError(n,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e&&-1!==e.indexOf(".")&&window.parent){try{window.parent.document;return}catch(n){try{document.domain=e}catch(t){return}}try{window.parent.document;return}catch(n){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}}BOOMR_check_doc_domain();!function(l){var u,n,a,r,s,e,c,t=l;l.parent!==l&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(l=l.parent);a=l.document;l.BOOMR||(l.BOOMR={});BOOMR=l.BOOMR;if(!BOOMR.version){BOOMR.version="1.0.0";BOOMR.window=l;BOOMR.boomerang_frame=t;BOOMR.plugins||(BOOMR.plugins={});!function(){try{new l.CustomEvent("CustomEvent")!==undefined&&(r=function(e,n){return new l.CustomEvent(e,n)})}catch(e){}try{!r&&a.createEvent&&a.createEvent("CustomEvent")&&(r=function(e,n){var t=a.createEvent("CustomEvent");t.initCustomEvent(e,(n=n||{cancelable:!1,bubbles:!1}).bubbles,n.cancelable,n.detail);return t})}catch(e){}r=(r=!r&&a.createEventObject?function(e,n){var t=a.createEventObject();t.type=t.propertyName=e;t.detail=n.detail;return t}:r)||function(){return undefined}}();s=function(e,n,t){var i=r(e,{detail:n});i&&(t?BOOMR.setImmediate(o):o());function o(){try{a.dispatchEvent?a.dispatchEvent(i):a.fireEvent&&a.fireEvent("onpropertychange",i)}catch(e){}}};if("undefined"!=typeof a.hidden){e="visibilityState";c="visibilitychange"}else if("undefined"!=typeof a.mozHidden){e="mozVisibilityState";c="mozvisibilitychange"}else if("undefined"!=typeof a.msHidden){e="msVisibilityState";c="msvisibilitychange"}else if("undefined"!=typeof a.webkitHidden){e="webkitVisibilityState";c="webkitvisibilitychange"}u={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:l.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,same_site_cookie:"Lax",secure_cookie:!1,forced_same_site_cookie_none:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[],before_early_beacon:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(t){return function(e){var n;(e=e||l.event).target?n=e.target:e.srcElement&&(n=e.srcElement);(n=3===n.nodeType?n.parentNode:n)&&n.nodeName&&"OBJECT"===n.nodeName.toUpperCase()&&"application/x-shockwave-flash"===n.type||u.fireEvent(t,n)}},clearEvents:function(){for(var e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){for(var e in u.listenerCallbacks)if(u.listenerCallbacks.hasOwnProperty(e))for(;u.listenerCallbacks[e].length;)BOOMR.utils.removeListener(u.listenerCallbacks[e][0].el,e,u.listenerCallbacks[e][0].fn,u.listenerCallbacks[e][0].op);u.listenerCallbacks={}},fireEvent:function(e,n){var t,i,o,r;e=e.toLowerCase();this.translate_events[e]&&(e=this.translate_events[e]);if(this.events.hasOwnProperty(e)){this.public_events.hasOwnProperty(e)&&s(this.public_events[e],n);o=this.events[e];"before_beacon"!==e&&"beacon"!==e&&"before_early_beacon"!==e&&BOOMR.real_sendBeacon();r=o.length;for(t=0;t<r;t++)try{(i=o[t]).fn.call(i.scope,n,i.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+t+">")}for(t=0;t<r;t++)if(o[t].once){o.splice(t,1);r--;t--}}},spaNavigation:function(){u.onloadfired=!0},beaconUrlAllowed:function(e){if(!u.beacon_urls_allowed||0===u.beacon_urls_allowed.length)return!0;for(var n=0;n<u.beacon_urls_allowed.length;n++)if(new RegExp(u.beacon_urls_allowed[n]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=u.LOCAL_STORAGE_PREFIX+"clss";u.localStorageSupported=!1;try{if(!l.JSON||!l.localStorage)return;l.localStorage.setItem(e,e);u.localStorageSupported=l.localStorage.getItem(e)===e;l.localStorage.removeItem(e)}catch(n){u.localStorageSupported=!1}},onFrameUnloaded:function(){var e,n;BOOMR.isUnloaded=!0;for(e=0;e<u.nativeOverwrites.length;e++)(n=u.nativeOverwrites[e]).obj[n.functionName]=n.origFn;u.nativeOverwrites=[]}};n={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,cookies:{},testedCookies:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:u.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!l.postMessage||"function"!=typeof l.postMessage&&"object"!=typeof l.postMessage)},objectToString:function(e,n,t){var i,o=[];if(!e||"object"!=typeof e)return e;n===undefined&&(n="\n\t");t=t||0;if(BOOMR.utils.isArray(e)){for(i=0;i<e.length;i++)0<t&&null!==e[i]&&"object"==typeof e[i]?o.push(this.objectToString(e[i],n+("\n\t"===n?"\t":""),t-1)):"&"===n?o.push(encodeURIComponent(e[i])):o.push(e[i]);n=","}else for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(0<t&&null!==e[i]&&"object"==typeof e[i]?o.push(encodeURIComponent(i)+"="+this.objectToString(e[i],n+("\n\t"===n?"\t":""),t-1)):"&"===n?o.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i])):o.push(i+"="+e[i]));return o.join(n)},getCookie:function(e){var n;if(!e)return null;if("undefined"!=typeof BOOMR.cookies[e])return!1===BOOMR.cookies[e]?undefined:BOOMR.cookies[e];if(void 0===(n=this.getRawCookie(e))){BOOMR.cookies[e]=!1;return undefined}BOOMR.cookies[e]=n;return BOOMR.cookies[e]},getRawCookie:function(e){if(!e)return null;var n,t=" "+a.cookie+";";if(0<=(n=t.indexOf(e=" "+e+"="))){n+=e.length;return t.substring(n,t.indexOf(";",n)).replace(/^"/,"").replace(/"$/,"")}},setCookie:function(e,n,t){var i,o;if(!e||!BOOMR.session.domain||void 0===n){BOOMR.addVar("nocookie",1);return!1}if((i=this.objectToString(n,"&"))===BOOMR.cookies[e])return!0;if((o=e+'="'+i+'"').length<500){n=[o,"path=/","domain="+BOOMR.session.domain];if("number"==typeof t){(r=new Date).setTime(r.getTime()+1e3*t);r=r.toGMTString();n.push("expires="+r)}var r=this.getSameSiteAttributeParts();"https:"===location.protocol&&!0===u.secure_cookie&&-1===r.indexOf("Secure")&&r.push("Secure");n=n.concat(r);a.cookie=n.join("; ");if(BOOMR.testedCookies){BOOMR.cookies[e]="number"!=typeof t||0<t?i:undefined;return!0}BOOMR.cookies[e]=undefined;if(i===(n=this.getRawCookie(e))||void 0===n&&"number"==typeof t&&t<=0){BOOMR.cookies[e]=i;BOOMR.testedCookies=!0;BOOMR.removeVar("nocookie");return!0}BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+i+"\n"+n)}else BOOMR.warn("Cookie too long: "+o.length+" "+o);BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(e){var n,t,i,o,r=!1,a={};if(!e)return null;if("string"!=typeof e)return null;for(t=0,i=(n=e.split("&")).length;t<i;t++)if((o=n[t].split("="))[0]){o.push("");a[decodeURIComponent(o[0])]=decodeURIComponent(o[1]);r=!0}return r?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getSameSiteAttributeParts:function(){var e=u.same_site_cookie.toUpperCase();return"LAX"===(e=u.forced_same_site_cookie_none?"NONE":e)?["SameSite=Lax"]:"NONE"===e?"https:"===location.protocol&&this.isCurrentUASameSiteNoneCompatible()?["SameSite=None","Secure"]:[]:"STRICT"===e?["SameSite=Strict"]:["SameSite=Lax"]},getLocalStorage:function(e){var n,t;if(!e||!u.localStorageSupported)return null;try{if(null===(n=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return undefined;t=l.JSON.parse(n)}catch(i){BOOMR.warn(i);return null}if(!t||"object"!=typeof t.items){this.removeLocalStorage(e);return null}if("number"==typeof t.expires&&BOOMR.now()>=t.expires){this.removeLocalStorage(e);return undefined}return t.items},setLocalStorage:function(e,n,t){var i;if(!e||!u.localStorageSupported||"object"!=typeof n)return!1;n={items:n};"number"==typeof t&&(n.expires=BOOMR.now()+1e3*t);if((n=l.JSON.stringify(n)).length<5e4){try{l.localStorage.setItem(u.LOCAL_STORAGE_PREFIX+e,n);if(n===(i=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return!0}catch(o){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+n+"\n"+i)}else BOOMR.warn("Storage items too large: "+n.length+" "+n);return!1},removeLocalStorage:function(e){if(!e||!u.localStorageSupported)return!1;try{l.localStorage.removeItem(u.LOCAL_STORAGE_PREFIX+e);return!0}catch(n){}return!1},cleanupURL:function(e,n){if(!e||BOOMR.utils.isArray(e))return"";u.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted"));if(void 0!==n&&e&&e.length>n){var t=e.indexOf("?");e=-1!==t&&t<n?e.substr(0,t)+"?...":e.substr(0,n-3)+"..."}return e},hashQueryString:function(e,n){if(!e)return e;if(!e.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e);return""}if((e=e.match(/^\/\//)?location.protocol+e:e).match(/^(https?|file):/))return(e=n?e.replace(/#.*/,""):e).replace(/\?([^#]*)/,function(e,n){return"?"+(10<n.length?BOOMR.utils.hashString(n):n)});BOOMR.error("Passed in URL is invalid: "+e);return""},pluginConfig:function(e,n,t,i){var o,r=0;if(!n||!n[t])return!1;for(o=0;o<i.length;o++)if(n[t][i[o]]!==undefined){e[i[o]]=n[t][i[o]];r++}return 0<r},arrayFilter:function(e,n){var t=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof n)return t;if("function"==typeof e.filter)t=e.filter(n);else for(var i,o=-1,r=e.length;++o<r;)n(i=e[o],o,e)&&(t[t.length]=i);return t},arrayFind:function(e,n){if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof n)return undefined;if("function"==typeof e.find)return e.find(n);for(var t,i=-1,o=e.length;++i<o;)if(n(t=e[i],i,e))return t;return undefined},isMutationObserverSupported:function(){return!(l&&l.navigator&&l.navigator.userAgent&&l.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&l&&l.MutationObserver&&"function"==typeof l.MutationObserver},addObserver:function(e,n,t,i,o,r){var a,s,u={observer:null,timer:null};if(!this.isMutationObserverSupported()||!i||!e)return null;function c(e){var n=!1;if(u.timer){clearTimeout(u.timer);u.timer=null}i&&((n=i.call(r,e,o))||(i=null));if(!n&&u.observer){u.observer.disconnect();u.observer=null}"number"==typeof n&&0<n&&(u.timer=setTimeout(c,n))}a=l.MutationObserver;l.Zone&&"function"==typeof l.Zone.__symbol__&&(s=l.Zone.__symbol__("MutationObserver"))&&"string"==typeof s&&l.hasOwnProperty(s)&&"function"==typeof l[s]&&(a=l[s]);u.observer=new a(c);t&&(u.timer=setTimeout(c,u.timeout));u.observer.observe(e,n);return u},addListener:function(e,n,t,i){var o=!1;if(e.addEventListener){"object"==typeof i?o=i:"boolean"==typeof i&&i&&BOOMR.browser.supportsPassive()&&(o={capture:!1,passive:!0});e.addEventListener(n,t,o)}else e.attachEvent&&e.attachEvent("on"+n,t);u.listenerCallbacks[n]=u.listenerCallbacks[n]||[];u.listenerCallbacks[n].push({el:e,fn:t,op:o})},removeListener:function(e,n,t,i){e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent&&e.detachEvent("on"+n,t);if(u.listenerCallbacks.hasOwnProperty(n))for(var o=0;o<u.listenerCallbacks[n].length;o++)if(t===u.listenerCallbacks[n][o].fn&&e===u.listenerCallbacks[n][o].el){u.listenerCallbacks[n].splice(o,1);return}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,n){var t;if(void 0===e||void 0===n||!n.length)return!1;for(t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},getQueryParamValue:function(e,n){var t,i,o,r;if(!e)return null;"string"==typeof n?(t=BOOMR.window.document.createElement("a")).href=n:t="object"==typeof n&&"string"==typeof n.search?n:BOOMR.window.location;i=t.search.slice(1).split(/&/);for(o=0;o<i.length;o++)if(i[o]&&(r=i[o].split("=")).length&&r[0]===e)try{return 1<r.length?decodeURIComponent(r.splice(1).join("=").replace(/\+/g," ")):""}catch(a){if(!a||"string"!=typeof a.name||-1===a.name.indexOf("URIError"))throw a}return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):""},getMyURL:function(){var e,n=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(n)return n.src;for(var t=document.getElementsByTagName("script"),i=t.length;i--;)if("interactive"===t[i].readyState)return t[i].src;try{throw new Error}catch(o){if("stack"in o&&(e=this.arrayFilter(o.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e=l.pageXOffset!==undefined,n="CSS1Compat"===(l.document.compatMode||""),t={x:0,y:0};if(e)if("function"==typeof l.pageXOffset){t.x=l.pageXOffset();t.y=l.pageYOffset()}else{t.x=l.pageXOffset;t.y=l.pageYOffset}else if(n){t.x=l.document.documentElement.scrollLeft;t.y=l.document.documentElement.scrollTop}else{t.x=l.document.body.scrollLeft;t.y=l.document.body.scrollTop}"number"==typeof t.sx&&(t.sx=Math.round(t.sx));"number"==typeof t.sy&&(t.sy=Math.round(t.sy));return t},windowHeight:function(){return l.innerHeight||l.document.documentElement.clientHeight||l.document.body.clientHeight},windowWidth:function(){return l.innerWidth||l.document.documentElement.clientWidth||l.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))},overwriteNative:function(e,n,t){if(e&&t){BOOMR.boomerang_frame!==BOOMR.window&&u.nativeOverwrites.push({obj:e,functionName:n,origFn:e[n]});e[n]=t}},isInteger:function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)},isObjectEmpty:function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},hashString:function(e){e=encodeURIComponent(e);for(var n=2166136261,t=0;t<e.length;t++){n^=e.charCodeAt(t);n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24)}var i=(n>>>0).toString()+e.length;return parseInt(i).toString(36)},isCurrentUASameSiteNoneCompatible:function(){return!(l&&l.navigator&&l.navigator.userAgent&&"string"==typeof l.navigator.userAgent)||this.isUASameSiteNoneCompatible(l.navigator.userAgent)},isUASameSiteNoneCompatible:function(e){var n=e.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);if(n){var t=parseFloat(n[2]),i=n[3];return 12.13===t?!(i<=2):!(t<12.13)}if(n=e.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/)){t=n[2];return 51<=t&&t<=66?!1:!0}return(n=e.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//))?(!(n=e.match(/Version\/.* Safari\//))||null!==(n=e.match(/Chrom(?:e|ium)/)))&&!(n=e.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/)):!(n=e.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/))}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(n){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var n,t,i=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","same_site_cookie","secure_cookie"];BOOMR_check_doc_domain();(e=e||{}).log!==undefined&&(this.log=e.log);this.log||(this.log=function(){});this.pageId||(this.pageId=BOOMR.utils.generateId(8));if(e.primary&&u.handlers_attached)return this;if("undefined"!=typeof e.site_domain){/:/.test(e.site_domain)&&(e.site_domain=l.location.hostname.toLowerCase());this.session.domain=e.site_domain}BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());"undefined"!=typeof e.autorun&&(u.autorun=e.autorun);for(t in this.plugins)if(this.plugins.hasOwnProperty(t))if(e[t]&&e[t].hasOwnProperty("enabled")&&!1===e[t].enabled){u.disabled_plugins[t]=1;"function"==typeof this.plugins[t].disable&&this.plugins[t].disable()}else{if(u.disabled_plugins[t]){if(!e[t]||!e[t].hasOwnProperty("enabled")||!0!==e[t].enabled)continue;"function"==typeof this.plugins[t].enable&&this.plugins[t].enable();delete u.disabled_plugins[t]}if("function"==typeof this.plugins[t].init)try{this.plugins[t].init(e)}catch(o){BOOMR.addError(o,t+".init")}}for(n=0;n<i.length;n++)e[i[n]]!==undefined&&(u[i[n]]=e[i[n]]);if(!u.handlers_attached&&!e.wait||u.handlers_attached&&u.waiting_for_config){if(!u.onloadfired&&(u.autorun===undefined||!1!==u.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}u.waiting_for_config=!1}if(u.handlers_attached)return this;e.wait&&(u.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(l,"DOMContentLoaded",function(){u.fireEvent("dom_loaded")});BOOMR.fireEvent("config",e);BOOMR.subscribe("config",function(e){e.beacon_url&&(u.beacon_url=e.beacon_url)});BOOMR.subscribe("spa_navigation",u.spaNavigation,null,u);!function(){var e,n;if(c!==undefined){BOOMR.utils.addListener(a,c,function(){u.fireEvent("visibility_changed")});u.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now();if("prerender"===u.lastVisibilityState&&"prerender"!==e){BOOMR.addVar("vis.pre","1");u.fireEvent("prerender_to_visible")}u.lastVisibilityState=e})}BOOMR.utils.addListener(a,"mouseup",u.xb_handler("click"));e=a.getElementsByTagName("form");for(n=0;n<e.length;n++)BOOMR.utils.addListener(e[n],"submit",u.xb_handler("form_submit"));l.onpagehide||null===l.onpagehide||BOOMR.utils.addListener(l,"unload",function(){BOOMR.window=l=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",u.onFrameUnloaded)}();u.handlers_attached=!0;return this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pageshow",e):BOOMR.utils.addListener(l,"load",e)},page_ready_autorun:function(e){u.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,n){var t;if(!n&&"number"==typeof e){t=e;e=null}e=(e=e||l.event)||{name:"load"};if(n){if("number"==typeof l.BOOMR_page_ready){e.timing=e.timing||{};e.timing.loadEventEnd=l.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{e.timing=e.timing||{};t?e.timing.loadEventEnd=t:"number"==typeof l.BOOMR_page_ready?e.timing.loadEventEnd=l.BOOMR_page_ready:e.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(u.onloadfired)return this;u.fireEvent("page_ready",e);u.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return a.readyState&&"complete"===a.readyState||e&&e.timing&&0<e.timing.loadEventStart||0<l.BOOMR_onload},onloadFired:function(){return u.onloadfired},setImmediate:function(e,n,t,i){var o=function(){e.call(i||null,n,t||{},void 0);o=null};l.requestIdleCallback?l.requestIdleCallback(o,{timeout:1e3}):l.setImmediate?l.setImmediate(o):setTimeout(o,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},forceSameSiteCookieNone:function(){u.forced_same_site_cookie_none=!0},hrNow:function(){var e,n=BOOMR.getPerformance();if(n&&n.now)e=n.now();else{n=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e=BOOMR.now()-n}return e},visibilityState:e===undefined?function(){return"visible"}:function(){return a[e]},lastVisibilityEvent:{},registerEvent:function(e){if(u.events.hasOwnProperty(e))return this;u.events[e]=[];return this},disable:function(){u.clearEvents();u.clearListeners()},fireEvent:function(e,n){return u.fireEvent(e,n)},subscribe:function(n,t,i,o,e){var r,a,s;n=n.toLowerCase();u.translate_events[n]&&(n=u.translate_events[n]);u.events.hasOwnProperty(n)||(u.events[n]=[]);s=u.events[n];for(r=0;r<s.length;r++)if((a=s[r])&&a.fn===t&&a.cb_data===i&&a.scope===o)return this;s.push({fn:t,cb_data:i||{},scope:o||null,once:e||!1});"page_ready"===n&&u.onloadfired&&u.autorun&&this.setImmediate(t,null,i,o);if("page_unload"===n||"before_unload"===n){u.unloadEventsCount++;!function(){s.length;var e=function(e){t&&t.call(o,e||l.event,i);++u.unloadEventCalled===u.unloadEventsCount&&BOOMR.real_sendBeacon()};"page_unload"===n&&(l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pagehide",e):BOOMR.utils.addListener(l,"unload",e));BOOMR.utils.addListener(l,"beforeunload",e)}()}return this},addError:function BOOMR_addError(e,n,t){var i=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+n+", extra: "+t);if(i&&i.is_supported())if("string"==typeof e)i.send({message:e,extra:t,functionName:n,noStack:!0},i.VIA_APP,i.SOURCE_BOOMERANG);else{"string"==typeof n&&(e.functionName=n);void 0!==t&&(e.extra=t);i.send(e,i.VIA_APP,i.SOURCE_BOOMERANG)}else{"string"!=typeof e&&(e=i=(i=String(e)).match(/^\[object/)?e.name+": "+(e.description||e.message).replace(/\r\n$/,""):i);n!==undefined&&(e="["+n+":"+BOOMR.now()+"] "+e);t&&(e+=":: "+t);u.errors[e]?u.errors[e]++:u.errors[e]=1}},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,n,t){if("string"==typeof e){u.vars[e]=n;t&&(u.singleBeaconVars[e]=1)}else if("object"==typeof e){var i,o=e;for(i in o)if(o.hasOwnProperty(i)){u.vars[i]=o[i];t&&(u.singleBeaconVars[i]=1)}}return this},appendVar:function(e,n){var t=BOOMR.getVar(e)||"";t&&(t+=",");BOOMR.addVar(e,t+n);return this},removeVar:function(e){var n,t;if(!arguments.length)return this;t=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments;for(n=0;n<t.length;n++)u.vars.hasOwnProperty(t[n])&&delete u.vars[t[n]];return this},hasVar:function(e){return u.vars.hasOwnProperty(e)},getVar:function(e){return u.vars[e]},setVarPriority:function(e,n){if("number"!=typeof n||1!==Math.abs(n))return this;u.varPriority[n][e]=1;return this},setReferrer:function(e){u.r=e},requestStart:function(n){var t=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+n,t);return{loaded:function(e){BOOMR.responseEnd(n,t,e)}}},readyToSend:function(){for(var e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&"function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return!1;return!0},responseEnd:function(e,n,t,i){n="number"==typeof n?n:BOOMR.now();i="number"==typeof i?i:BOOMR.now();if(BOOMR.readyToSend())if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(e,n,t,i)},null,BOOMR,!0);else{u.beaconInQueue=!0;if("object"==typeof e)e.url&&u.fireEvent("xhr_load",e);else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",e,!0);BOOMR.plugins.RT.startTimer("xhr_"+e,n);u.fireEvent("xhr_load",{name:"xhr_"+e,data:t,timing:{loadEventEnd:i}})}}else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,n,t,i)},null,BOOMR,!0);else setTimeout(function(){BOOMR.responseEnd(e,n,t,i)},1e3)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){e&&(u.beacon_url_override=e);if(!u.beaconQueued){u.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(e,n,t){if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(e,n,t)},null,BOOMR,!0);else{u.beaconInQueue=!0;for(var i in e)e.hasOwnProperty(i)&&BOOMR.addVar(i,e[i],!0);"function"==typeof n&&void 0!==t&&n.apply(t);BOOMR.sendBeacon()}},real_sendBeacon:function(){var e,n=[],t={};if(!u.beaconQueued)return!1;u.beaconQueued=!1;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&!this.plugins[e].is_complete(u.vars)){delete u.vars.early;return!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var i=BOOMR.utils.inArray(u.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),o="undefined"==typeof u.vars["http.initiator"]||i;u.vars.pgu||(u.vars.pgu=i?a.URL:a.URL.replace(/#.*/,""));u.vars.pgu=BOOMR.utils.cleanupURL(u.vars.pgu);u.vars.u&&!i||(u.vars.u=u.vars.pgu);u.vars.pgu===u.vars.u&&delete u.vars.pgu;u.r?u.vars.r=BOOMR.utils.cleanupURL(u.r):delete u.vars.r;u.vars.v=BOOMR.version;BOOMR.snippetVersion&&(u.vars.sv=BOOMR.snippetVersion);u.vars.sm=BOOMR.snippetMethod||"i";if(BOOMR.session.enabled){u.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);u.vars["rt.ss"]=BOOMR.session.start;"undefined"==typeof u.vars.early?u.vars["rt.sl"]=1<=BOOMR.session.length?BOOMR.session.length:1:u.vars["rt.sl"]=BOOMR.session.length}else BOOMR.removeVar("rt.si","rt.ss","rt.sl");if(BOOMR.visibilityState()){u.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(u.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(u.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}u.vars["ua.plt"]=navigator.platform;u.vars["ua.vnd"]=navigator.vendor;this.pageId&&(u.vars.pid=this.pageId);u.vars.n=++this.beaconsSent;l!==window&&(u.vars["if"]="");for(e in u.errors)u.errors.hasOwnProperty(e)&&n.push(e+(1<u.errors[e]?" (*"+u.errors[e]+")":""));0<n.length&&(u.vars.errors=n.join("\n"));u.errors={};u.fireEvent("before_beacon",u.vars);for(e in u.vars)u.vars.hasOwnProperty(e)&&(t[e]=u.vars[e]);BOOMR.removeVar(["qt","pgu"]);if("undefined"==typeof u.vars.early){for(var r in u.singleBeaconVars)u.singleBeaconVars.hasOwnProperty(r)&&BOOMR.removeVar(r);u.singleBeaconVars={};if(!u.hasSentPageLoadBeacon&&o){u.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){u.fireEvent("page_load_beacon",t)})}}if(BOOMR.session.rate_limited)return!1;u.beaconInQueue=!1;BOOMR.sendBeaconData(t);return!0},sendBeaconData:function(e){var n,t=[],i=!0;u.beacon_url=u.beacon_url_override||u.beacon_url;if(!u.beacon_url)return!1;if(!u.beaconUrlAllowed(u.beacon_url))return!1;if(BOOMR.utils.isObjectEmpty(e))return!1;u.fireEvent("beacon",e);t=this.getVarsOfPriority(e,-1);o=this.getVarsOfPriority(e,1);t=t.concat(this.getVarsOfPriority(e,0),o).join("&");u.beacon_url_force_https&&u.beacon_url.match(/^\/\//)&&(u.beacon_url="https:"+u.beacon_url);e=u.beacon_url+(-1<u.beacon_url.indexOf("?")?"&":"?")+t;if("GET"===u.beacon_type){i=!0;e.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===u.beacon_type||e.length>BOOMR.constants.MAX_GET_LENGTH)&&(i=!1);if(l&&l.navigator&&"function"==typeof l.navigator.sendBeacon&&BOOMR.utils.isNative(l.navigator.sendBeacon)&&"function"==typeof l.Blob&&"GET"!==u.beacon_type&&"undefined"==typeof u.beacon_auth_token&&!u.beacon_disable_sendbeacon){var o=new l.Blob([t+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(l.navigator.sendBeacon(u.beacon_url,o))return!0}if(i=!(BOOMR.orig_XMLHttpRequest||l&&l.XMLHttpRequest)?!0:i){try{n=new Image}catch(r){return!1}n.src=e}else{e=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(e,t)}catch(r){e=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(e,t)}}return!0},hasSentPageLoadBeacon:function(){return u.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,n){e.open("POST",u.beacon_url);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");if("undefined"!=typeof u.beacon_auth_token){"undefined"==typeof u.beacon_auth_key&&(u.beacon_auth_key="Authorization");e.setRequestHeader(u.beacon_auth_key,u.beacon_auth_token)}u.beacon_with_credentials&&(e.withCredentials=!0);e.send(n)},getVarsOfPriority:function(e,n){var t,i=[],o=0!==n?u.varPriority[n]:e;for(t in o)if(o.hasOwnProperty(t)&&e.hasOwnProperty(t)){i.push(this.getUriEncodedVar(t,"undefined"==typeof e[t]?"":e[t]));0!==n&&delete e[t]}return i},getUriEncodedVar:function(e,n){"object"==typeof(n=n===undefined||null===n?"":n)&&(n=BOOMR.utils.serializeForUrl(n));return encodeURIComponent(e)+"="+encodeURIComponent(n)},getResourceTiming:function(e,n,t){var i,o=BOOMR.getPerformance();try{if(o&&"function"==typeof o.getEntriesByName){if(!(i=o.getEntriesByName(e))||!i.length)return;if(!("function"!=typeof t||(i=BOOMR.utils.arrayFilter(i,t))&&i.length))return;1<i.length&&"function"==typeof n&&i.sort(n);return i[i.length-1]}}catch(r){BOOMR.warn("getResourceTiming:"+r)}}};if(BOOMR.url){t=BOOMR.window.document.createElement("a");t.href=BOOMR.url;n.url=t.href}else n.url=n.utils.getMyURL();delete BOOMR_start;if("number"==typeof BOOMR_lstart){n.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(n.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(n.t_onload=BOOMR.window.BOOMR_onload);!function(){var e;"object"==typeof console&&console.log!==undefined?n.log=function(e,n,t){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+t+": ["+n+"] "+e)}:n.log=function(){};n.debug=(e=function(t){return function(e,n){this.log(e,t,"boomerang"+(n?"."+n:""));return this}})("debug");n.info=e("info");n.warn=e("warn");n.error=e("error")}();try{var i=n.getPerformance();i&&"function"==typeof i.now&&/\[native code\]/.test(String(i.now))&&i.timing&&i.timing.navigationStart&&(n.now=function(){return Math.round(i.now()+i.timing.navigationStart)})}catch(o){}u.checkLocalStorageSupport();!function(){for(var e in n)n.hasOwnProperty(e)&&(BOOMR[e]=n[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}();s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){if(!BOOMR.plugins.Continuity){var y=100,b=0,B=1,_=2,v="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",R=".",w={passive:!0,capture:!0},S=BOOMR.getPerformance(),T={},E=S&&S.timing&&S.timing.navigationStart?S.timing.navigationStart:BOOMR.now(),n=function(c){var l={},i={},a=[],s=0,u=0,t=0,d=!0;BOOMR.fpsLog&&BOOMR.fpsLog.length&&(c=BOOMR.fpsLog[0]+E);function O(){return Math.floor((BOOMR.now()-c)/y)}function f(){var e=0;if(k.ttiWaitForFrameworkReady){if(!k.frameworkReady)return;e=k.frameworkReady}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&S&&S.timeOrigin){var n=BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");(n=(n=n||BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint"))||BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(e=Math.max(e,Math.round(n+S.timeOrigin)))}else if(S&&S.timing&&S.timing.msFirstPaint)e=Math.max(e,S.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){n=BOOMR.window.chrome.loadTimes();n&&n.firstPaintTime&&(e=Math.max(e,1e3*n.firstPaintTime))}S&&S.timing&&S.timing.domContentLoadedEventEnd&&(e=Math.max(e,S.timing.domContentLoadedEventEnd));return e=k.ttiWaitForHeroImages&&(t=function u(e){var n,t,i,o,r,a=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!S||"function"!=typeof S.getEntriesByType)return 0;if((n=BOOMR.window.document.querySelectorAll(e+", "+e+" * img, "+e+" * image"))&&n.length)for(t=0;t<n.length;t++){o=n[t].currentSrc||n[t].src||"function"==typeof n[t].getAttribute&&n[t].getAttribute("xlink:href");if(!o&&"function"==typeof BOOMR.window.getComputedStyle){var s=BOOMR.window.getComputedStyle(n[t])&&BOOMR.window.getComputedStyle(n[t]).getPropertyValue("background");if(s){s=s.match(/url\(["']?([^"']*)["']?\)/);s&&0<s.length&&(o=s[1])}}if(o&&(r=S.getEntriesByName(o))&&r.length)for(i=0;i<r.length;i++)a=Math.max(a,r[i].responseEnd)}return a?Math.floor(a+E):0}(k.ttiWaitForHeroImages))?Math.max(e,t):e}function m(e,n){return function f(e,n,t,i,o){var r,a,s,u,c,l="",d=0;if(!t)return"";if(0===t.length)return"";if(n){"undefined"==typeof t[i]&&(t[i]=0);for(r=i+1;r<=o;r++)"undefined"==typeof t[r]&&(t[r]=t[r-1])}for(r=i;r<=o;r++){d="number"!=typeof t[r]||isNaN(t[r])?0:t[r];e===b?s=d<=63?v.charAt(d):R+d.toString(36)+R:e===B?s=d.toString(36):e===_&&(s=d<99?d<=9?"0"+Math.max(d,0):d:"__");if(r+3<=o&&(t[r+1]===d||0===d&&t[r+1]===undefined)&&(t[r+2]===d||0===d&&t[r+2]===undefined)&&(t[r+3]===d||0===d&&t[r+3]===undefined)){a=1;for(;r<o&&(t[r+1]===d||0===d&&t[r+1]===undefined);){a++;r++}u="*"+a.toString(36)+"*"+s}else u=s;if(0!==d||r!==o){e===B&&c&&(l+=",");c=!0;l+=u}}return c?e.toString()+l:""}(i[e].compressMode,i[e].backfillLast,l[e],0!==n?Math.floor((n-c)/y):0,O())}T.timeToInteractive=function(){if(s)return s-E};T.timeToVisuallyReady=function(){if(u)return u-E};T.timeToHeroImagesReady=function(){if(k.ttiWaitForHeroImages&&t)return t-E};T.timeToFrameworkReady=function(){if(k.ttiWaitForFrameworkReady&&k.frameworkReady)return k.frameworkReady-E};T.log=function(){return a};return{register:function o(e,n,t){l[e]||(l[e]=[]);i[e]={compressMode:n||b,backfillLast:t}},set:function r(e,n,t){void 0===t&&(t=O());l[e]&&(l[e][t]=n)},log:function p(e,n,t){void 0===n&&(n=O());a.push({type:e,time:n,val:t});a.length>k.logMaxEntries&&Array.prototype.splice.call(a,0,a.length-k.logMaxEntries)},increment:function g(e,n,t){void 0===t&&(t=O());void 0===n&&(n=1);if(l[e]){l[e][t]||(l[e][t]=0);l[e][t]+=n}},getTimeBucket:O,getStats:function M(e,n){var t,i,o=0,r=0,a=Infinity,s=0,u=Math.floor((n-c)/y);if(!l[e])return 0;for(i in l[e]){i=parseInt(i,10);if(u<=i&&l[e].hasOwnProperty(i)){o++;r+=t=l[e][i];a=Math.min(a,t);s=Math.max(s,t)}}return{total:r,count:o,min:a,max:s}},analyze:function h(e){var n=O(),t=0,i=0;k.sendLog&&void 0!==e&&function o(){for(var e="",n=0;n<a.length;n++){var t,i=a[n];0!==n&&(e+="|");e+=i.type;e+=Math.round(i.time-E).toString(36);for(t in i.val)if(i.val.hasOwnProperty(t)){e+=","+t;"number"==typeof i.val[t]?e+=i.val[t].toString(36):e+=i.val[t]}}""!==e&&k.addToBeacon("c.l",e)}();k.sendTimeline&&void 0!==e&&function r(e){var n,t;for(n in l)l.hasOwnProperty(n)&&""!==(t=m(n,e))&&k.addToBeacon("c.t."+n,t)}(e);if(!s&&(u=u||f())){if(d){k.addToBeacon("c.tti.vr",T.timeToVisuallyReady());k.addToBeacon("c.tti.fr",T.timeToFrameworkReady());k.addToBeacon("c.tti.hi",T.timeToHeroImagesReady());d=!1}if(l.longtask||l.fps||l.busy){for(t=Math.floor((u-c)/y);t<=n;t++)if(l.longtask&&l.longtask[t])i=0;else if(l.fps&&(!l.fps[t]||l.fps[t]<5))i=0;else if(l.busy&&50<l.busy[t])i=0;else if(l.interdly&&l.interdly[t])i=0;else if(5<=++i){s=c+(t-5)*y;s=Math.max(s,u);break}0<s&&k.addToBeacon("c.tti",T.timeToInteractive())}}},stop:function e(){l={};a=[]},onBeacon:function n(){for(var e in l)l.hasOwnProperty(e)&&(l[e]=[]);d=!(a=[])}}},t=function(e){if(e.PerformanceObserver&&e.LayoutShift){var i=!0,o=0,n=new e.PerformanceObserver(function r(e){var n,t;if(i){n=e.getEntries();for(t=0;t<n.length;t++)n[t].hadRecentInput||(o+=n[t].value)}});try{n.observe({type:"layout-shift",buffered:!0})}catch(a){return}T.clsScore=function(){return o};return{clearClsScore:t,analyze:function s(e){k.addToBeacon("c.cls",T.clsScore())},stop:function u(){i=!1;n.disconnect();t()},onBeacon:function c(){t()}}}function t(){o=0}},i=function(e,i){if(e.PerformanceObserver&&e.PerformanceLongTaskTiming){var f={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},O={unknown:0,script:1,layout:2},m={unknown:0,iframe:1,embed:2,object:3},n=new e.PerformanceObserver(function a(e){var n,t;if(o){n=e.getEntries();Array.prototype.push.apply(p,n);for(t=0;t<n.length;t++)r+=n[t].duration;i.increment("longtask",n.length)}});try{n.observe({entryTypes:["longtask"]})}catch(s){return}i.register("longtask",b);var p=[],o=!0,r=0;T.longTasksTime=function(){return r};T.longTasksCount=function(){return p.length};return{getTasks:function u(){return p},clearTasks:t,analyze:function g(e){var n,t,i,o,r,a=[],s=[];if(0!==p.length){for(n=0;n<p.length;n++){i=p[n];o={s:Math.round(i.startTime).toString(36),d:Math.ceil(i.duration).toString(36),n:f[i.name]||0};s=[];for(t=0;t<i.attribution.length;t++)if("script"!==(r=i.attribution[t]).name||"iframe"!==r.containerType||r.containerName||r.containerId||r.containerSrc){var u=r.containerName||undefined,c=r.containerId||undefined;u===c&&(u=undefined);var l=c===undefined?r.containerSrc:undefined;s.push({a:O[r.name]||0,t:m[r.containerType]||0,n:u,i:c,s:l})}0<s.length&&(o.a=s);a.push(o)}k.addToBeacon("c.lt.n",T.longTasksCount(),!0);k.addToBeacon("c.lt.tt",T.longTasksTime());k.addToBeacon("c.lt",function d(e){var n=BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl||window.UserTimingCompression&&window.UserTimingCompression.jsUrl||BOOMR.window.UserTimingCompression&&BOOMR.window.UserTimingCompression.jsUrl;return n?n(e):window.JSON?JSON.stringify(e):""}(a))}},stop:function c(){o=!1;n.disconnect();t()},onBeacon:function l(){t()}}}function t(){p=[];r=0}},o=function(e,i){i.register("busy",_);var o=Math.floor(3.125),t=BOOMR.now(),r=0,a=0,s=0,u=0,n=!1,c=!1;T.pageBusy=function(){return 0===s?0:Math.ceil(u/s*100)};n=setInterval(function l(){var e=BOOMR.now(),n=e-t;t=e;if(68<n){e=Math.floor((n-32)/32);r+=e;a+=e;n-=32*e}r++;36<n&&a++},32);c=setInterval(function d(){var e=i.getTimeBucket(),n=e,t=0;if(0!==r){for(;o+1<r&&t<=100;){i.set("busy",100,--n);r-=o;a=Math.max(a-o,0);s+=o;u+=o;t++}s+=r;u+=a;i.set("busy",Math.ceil(a/r*100),e);a=r=0}},100);return{analyze:function f(e){k.addToBeacon("c.b",T.pageBusy())},stop:function O(){if(n){clearInterval(n);n=!1}if(c){clearInterval(c);c=!1}},onBeacon:function m(){u=s=0}}},r=function(n,t){t.register("fps",b);var i,o=50,r=0,a=0,s=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){for(var u=i=BOOMR.fpsLog[0]+E,e=0;e<BOOMR.fpsLog.length;e++){var c=E+BOOMR.fpsLog[e];t.increment("fps",1,Math.floor((c-i)/y));o<=c-u&&a++;u=c}r=BOOMR.fpsLog.length;delete BOOMR.fpsLog}else i=BOOMR.now();n.requestAnimationFrame(function l(e){if(s){o<=e-u&&a++;u=e;r++;t.increment("fps");n.requestAnimationFrame(l)}});T.fps=function(){var e=T.fpsDuration();if(e)return Math.floor(r/(e/1e3))};T.fpsDuration=function(){if(i)return BOOMR.now()-i};T.fpsMinimum=function(){if(T.fpsDuration()){var e=t.getStats("fps",i).min;return e!==Infinity?e:undefined}};T.fpsLongFrames=function(){return a};T.fpsStart=function(){return i?i.toString(36):0};return{analyze:function d(e){k.addToBeacon("c.f",T.fps());k.addToBeacon("c.f.d",T.fpsDuration());k.addToBeacon("c.f.m",T.fpsMinimum());k.addToBeacon("c.f.l",T.fpsLongFrames());k.addToBeacon("c.f.s",T.fpsStart())},stop:function f(){s=!1;i=0},onBeacon:function O(){s&&(i=BOOMR.now());a=r=0}}},a=function(e,o,r){if(e&&e.document&&e.document.body&&e.document.documentElement){var a=2e3,s=20,u=0,c=0,l=0,d=0,f=0,O=0,m=0,p=0,n=!1,t=e.document.body,i=e.document.documentElement;o.register("scroll",b);o.register("scrollpct",_);var g=Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)-BOOMR.utils.windowHeight();T.scrollPct=function(){return d};T.scrollCount=function(){return f};T.scrollDistinct=function(){return m};T.scrollPixels=function(){return O};BOOMR.utils.addListener(e,"scroll",M,w);BOOMR.utils.addListener(e,"mousewheel",M,w);n=setInterval(function h(){var e=Math.min(l,100);0!==e&&o.set("scrollpct",e);l=0},y);return{analyze:function B(e){k.addToBeacon("c.s",T.scrollCount());k.addToBeacon("c.s.p",T.scrollPct());k.addToBeacon("c.s.y",T.scrollPixels());k.addToBeacon("c.s.d",T.scrollDistinct())},stop:function v(){if(n){clearInterval(n);n=!1}BOOMR.utils.removeListener(e,"scroll",M,w);BOOMR.utils.removeListener(e,"mousewheel",M,w)},onBeacon:function R(){m=O=f=d=0}}}function M(e){var n=BOOMR.now();f++;a<n-p&&m++;p=n;var t=Math.ceil(BOOMR.utils.scroll().y),i=Math.abs(u-t);O+=i;o.increment("scroll",i);if(0===c||Math.abs(c-t)>s){o.log(0,n,{y:t});c=t}l+=Math.round(i/g*100);d+=Math.round(i/g*100);u=t;r.interact("scroll",n,e)}},s=function(e,r,a){r.register("click",b);var s=10,u=3,c=0,l=0,d=0,f=0,O=0,m=null;function n(e){var n=BOOMR.now(),t=e.clientX,i=e.clientY;c++;var o=Math.round(Math.sqrt(Math.pow(O-i,2)+Math.pow(f-t,2)));if(m===e.target||o<=s){if(u<=++l+1){d++;BOOMR.fireEvent("rage_click",e)}}else l=0;f=t;O=i;m=e.target;r.increment("click");r.log(1,n,{x:t,y:i});e.cancelable&&a.interact("click",n,e)}T.clicksCount=function(){return c};T.clicksRage=function(){return d};BOOMR.utils.addListener(e.document,"click",n,w);return{analyze:function t(e){k.addToBeacon("c.c",T.clicksCount());k.addToBeacon("c.c.r",T.clicksRage())},stop:function i(){BOOMR.utils.removeListener(e.document,"click",n,w)},onBeacon:function o(){d=l=c=0}}},u=function(e,t,i){t.register("key",b);var o=0,r=0;function n(e){var n=BOOMR.now();o++;27===e.keyCode&&r++;t.increment("key");t.log(3,n);e.cancelable&&i.interact("key",n,e)}T.keyCount=function(){return o};T.keyEscapes=function(){return r};BOOMR.utils.addListener(e.document,"keydown",n,w);return{analyze:function a(e){k.addToBeacon("c.k",T.keyCount());k.addToBeacon("c.k.e",T.keyEscapes())},stop:function s(){BOOMR.utils.removeListener(e.document,"keydown",n,w)},onBeacon:function u(){r=o=0}}},c=function(e,o,n){o.register("mouse",b);o.register("mousepct",_);var r=0,a=0,t=0,i=0,s=0,u=0,c=0,l=!1,d=!1,f=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function O(e){var n=e.clientX,t=e.clientY,i=Math.round(Math.sqrt(Math.pow(a-t,2)+Math.pow(r-n,2))),e=Math.round(i/f*100);s+=e;u+=e;c+=i;r=n;a=t;o.increment("mouse",i)}T.mousePct=function(){return u};T.mousePixels=function(){return c};l=setInterval(function m(){var e=Math.min(s,100);0!==e&&o.set("mousepct",e);s=0},y);d=setInterval(function p(){if(t!==r||i!==a)if(10<=Math.round(Math.sqrt(Math.pow(i-a,2)+Math.pow(t-r,2)))){o.log(2,BOOMR.now(),{x:r,y:a});t=r;i=a}},250);BOOMR.utils.addListener(e.document,"mousemove",O,w);return{analyze:function g(e){k.addToBeacon("c.m.p",T.mousePct());k.addToBeacon("c.m.n",T.mousePixels())},stop:function M(){if(l){clearInterval(l);l=!1}if(d){clearInterval(d);d=!1}BOOMR.utils.removeListener(e.document,"mousemove",O,w)},onBeacon:function h(){c=u=0}}},l=function(o,r,e){r.register("inter",b);r.register("interdly",b);var a=e,s=0,u=null,c=0,l=0,d=0,f=0,O=!0,m=0,p=0,g=!1,M=!1,h=!1,t=!1;function n(){if(g){clearTimeout(g);g=!1}if(M){clearTimeout(M);M=!1}}function B(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":m,"rt.end":p},function(){n();BOOMR.fireEvent("interaction")},k)}T.interactionDelayed=function(){return d};T.interactionDelayedTime=function(){return Math.ceil(f)};T.interactionAvgDelay=function(){if(0<c)return Math.ceil(l/c)};T.timeToFirstInteraction=function(){if(s)return s-E};T.firstInputDelay=function(){if(null!==u)return u};BOOMR.subscribe("spa_init",function i(){h=!0;n()},null,k);return{interact:function v(e,n,t){var i=0;BOOMR.hrNow();n=n||BOOMR.now();if(O){c++;s=s||(t&&t.timeStamp?t.timeStamp+E:n);if(t&&t.timeStamp&&(!k.isSafari||o===window)){i=14e11<t.timeStamp?n-t.timeStamp:BOOMR.hrNow()-t.timeStamp;l+=i;null===u&&(u=Math.ceil(i));if(50<i){r.increment("interdly");d++;f+=i}}r.increment("inter");if(!h&&k.afterOnloadMonitoring){p=BOOMR.now();if(!m){m=p;M=setTimeout(B,3e4)}if(g){clearTimeout(g);g=!1}g=setTimeout(B,a)}}},analyze:function R(e){var n;k.addToBeacon("c.i.dc",T.interactionDelayed());k.addToBeacon("c.i.dt",T.interactionDelayedTime());k.addToBeacon("c.i.a",T.interactionAvgDelay());if(!t&&(n=(n=BOOMR.plugins.EventTiming&&BOOMR.plugins.EventTiming.is_enabled()?BOOMR.plugins.EventTiming.metrics.firstInputDelay():n)||null===u?n:T.firstInputDelay())){k.addToBeacon("c.fid",Math.ceil(n),!0);k.addToBeacon("c.ttfi",BOOMR.plugins.EventTiming.metrics.timeToFirstInteraction()||T.timeToFirstInteraction());t=!0}},stop:function y(){O=!1},onBeacon:function _(){p=m=l=c=d=f=0;h=!1;n()}}},d=function(e,n,t){var i,o,r=!0;function a(){if(r){t.interact("pd",i,o);o=i=null;BOOMR.utils.removeListener(window,"pointerup",a,w)}}function s(e){if(r&&e.cancelable){i=BOOMR.now();o=e;BOOMR.utils.addListener(window,"pointerup",a,w)}}function u(){r=!1;BOOMR.utils.removeListener(window,"pointerdown",s,w);BOOMR.utils.removeListener(window,"pointerup",a,w);BOOMR.utils.removeListener(window,"pointercancel",u,w)}BOOMR.utils.addListener(window,"pointerdown",s,w);BOOMR.utils.addListener(window,"pointercancel",u,w);return{stop:u}},f=function(e,n,t){var i=!0;function o(e){if(i&&e.cancelable){var n=BOOMR.now();t.interact("md",n,e)}}BOOMR.utils.addListener(window,"mousedown",o,w);return{stop:function r(){i=!1;BOOMR.utils.removeListener(window,"mousedown",o,w)}}},O=function(e,n,t){var i=!0;function o(e){if(i&&e.cancelable){var n=BOOMR.now();t.interact("ts",n,e)}}BOOMR.utils.addListener(window,"touchstart",o,w);return{stop:function r(){i=!1;BOOMR.utils.removeListener(window,"touchstart",o,w)}}},m=function(e,t,n){t.register("vis",b);var i={visible:0,hidden:1,prerender:2,unloaded:3},o=!0;BOOMR.subscribe("visibility_changed",function(e){var n=BOOMR.now();if(o){t.increment("vis");t.log(4,n,{s:i[BOOMR.visibilityState()]})}});return{stop:function r(){o=!1}}},p=function(e,o,n){o.register("orn",b);var r=!0;function t(e){var n=BOOMR.now(),t=window.orientation;if(r){o.increment("orn");var i=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});"number"==typeof(t=i&&"number"==typeof i.angle?screen.orientation.angle:t)&&o.log(5,n,{a:t})}}BOOMR.utils.addListener(e,"orientationchange",t,w);return{stop:function i(){r=!1;BOOMR.utils.removeListener(e,"orientationchange",t,w)}}},g=function(e,n){n.register("mem",B,!0);n.register("bat",_,!0);n.register("domsz",B,!0);n.register("domln",B,!0);n.register("mut",b);var t,i=e.document,o=!1,r=null,a=0,s=0,u=i.getElementsByTagName("*");o=setInterval(function c(){var e=S&&S.memory&&S.memory.usedJSHeapSize;e&&n.set("mem",e);s=u.length;n.set("domsz",i.documentElement.innerHTML.length);n.set("domln",s);if(0<a){e=Math.min(Math.round(a/s*100),100);n.set("mut",e);a=0}},1e3);BOOMR.utils.isMutationObserverSupported()&&(t=BOOMR.utils.addObserver(i,{childList:!0,subtree:!0},null,function l(e){e.forEach(function(e){if("childList"!==e.type)return!0;for(var n=0;n<e.addedNodes.length;n++){var t=e.addedNodes[n];a++;a+=t.getElementsByTagName?t.getElementsByTagName("*").length:0}});return!0},null,this));return{stop:function d(){0;if(o){clearInterval(o);o=!1}if(t&&t.observer){t.observer.disconnect();t=null}r&&r.onlevelchange&&(r.onlevelchange=null);u=null}}},k={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!1,monitorLayoutShifts:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,touchStartMonitor:null,mouseDownMonitor:null,pointerDownMonitor:null,statsMonitor:null,layoutShiftMonitor:null,monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor","layoutShiftMonitor","touchStartMonitor","mouseDownMonitor","pointerDownMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,isSafari:window&&window.navigator&&window.navigator.vendor&&-1!==window.navigator.vendor.indexOf("Apple"),onBeforeBeacon:function(){k.runAllAnalyzers()},runAllAnalyzers:function(){var e,n;if(!k.hasAddedDataToBeacon){for(e=0;e<k.monitors.length;e++)(n=k[k.monitors[e]])&&"function"==typeof n.analyze&&n.analyze(k.timeOfLastBeacon);k.addToBeacon("c.lb",k.timeOfLastBeacon?k.timeOfLastBeacon.toString(36):0);k.timeOfLastBeacon=BOOMR.now();k.hasAddedDataToBeacon=!0}},onBeacon:function(e){var n;if(!e||!("undefined"!=typeof e.early||e["http.initiator"]&&0===e["http.initiator"].indexOf("api_custom_"))){for(n=0;n<k.monitors.length;n++){var t=k[k.monitors[n]];if(t){k.afterOnload||"function"==typeof t.stop&&t.stop();"function"==typeof t.onBeacon&&t.onBeacon()}}k.hasAddedDataToBeacon=!1}},onXhrLoad:function(e){e&&BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(k.isSpa=!0);e&&"spa_hard"===e.initiator&&k.onPageReady()},onPageReady:function(){k.firedPageReady=!0;if(k.afterOnload&&k.monitorInteractions){k.afterOnloadMonitoring=!0;k.isSpa||"number"!=typeof k.afterOnloadMaxLength||setTimeout(function(){k.afterOnloadMonitoring=!1},k.afterOnloadMaxLength)}if(k.waitAfterOnload){var e=BOOMR.now();setTimeout(function n(){if(BOOMR.now()-e>k.waitAfterOnload){k.complete=!0;BOOMR.sendBeacon()}else{k.timeline.analyze();if(T.timeToInteractive()){k.complete=!0;BOOMR.sendBeacon()}else setTimeout(n,500)}},500)}else k.complete=!0},addToBeacon:function(e,n,t){0!==n&&void 0!==n||t?BOOMR.addVar(e,n,!0):BOOMR.removeVar(e)}};BOOMR.plugins.Continuity={init:function(e){BOOMR.utils.pluginConfig(k,e,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline","monitorLayoutShifts"]);if(k.initialized)return this;k.initialized=!0;k.timeline=new n(BOOMR.now());if(BOOMR.window){if(k.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming){k.longTaskMonitor=new i(BOOMR.window,k.timeline);k.ttiMethod="lt"}if(k.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame){k.frameRateMonitor=new r(BOOMR.window,k.timeline);k.ttiMethod||(k.ttiMethod="raf")}if(k.monitorPageBusy&&(!BOOMR.window.PerformanceObserver||!BOOMR.window.PerformanceLongTaskTiming||!k.monitorLongTasks)){k.pageBusyMonitor=new o(BOOMR.window,k.timeline);k.ttiMethod||(k.ttiMethod="b")}if(k.monitorInteractions){k.interactionMonitor=new l(BOOMR.window,k.timeline,k.afterOnloadMinWait);k.scrollMonitor=new a(BOOMR.window,k.timeline,k.interactionMonitor);k.keyMonitor=new u(BOOMR.window,k.timeline,k.interactionMonitor);k.clickMonitor=new s(BOOMR.window,k.timeline,k.interactionMonitor);k.mouseMonitor=new c(BOOMR.window,k.timeline,k.interactionMonitor);k.visibilityMonitor=new m(BOOMR.window,k.timeline,k.interactionMonitor);k.orientationMonitor=new p(BOOMR.window,k.timeline,k.interactionMonitor);k.touchStartMonitor=new O(BOOMR.window,k.timeline,k.interactionMonitor);k.mouseDownMonitor=new f(BOOMR.window,k.timeline,k.interactionMonitor);k.pointerDownMonitor=new d(BOOMR.window,k.timeline,k.interactionMonitor)}k.monitorStats&&(k.statsMonitor=new g(BOOMR.window,k.timeline,k.interactionMonitor));k.monitorLayoutShifts&&BOOMR.window.PerformanceObserver&&(k.layoutShiftMonitor=new t(BOOMR.window))}BOOMR.addVar("c.e",E.toString(36));BOOMR.addVar("c.tti.m",k.ttiMethod);BOOMR.subscribe("before_beacon",k.onBeforeBeacon,null,k);BOOMR.subscribe("beacon",k.onBeacon,null,k);BOOMR.subscribe("page_ready",k.onPageReady,null,k);BOOMR.subscribe("xhr_load",k.onXhrLoad,null,k);return this},is_complete:function(e){return k.complete||e&&("error"===e["http.initiator"]||"undefined"!=typeof e.early)},frameworkReady:function(){k.frameworkReady=BOOMR.now()},metrics:T}}}();!function(){if(!BOOMR.plugins.PaintTiming){var o={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},r={initialized:!1,complete:!1,supported:null,timingCache:{},observer:null,externalMetrics:{},done:function(e,n){var t,i;if(this.complete)return this;if("load"!==n&&(!e||"spa_hard"!==e.initiator)){this.complete=!0;return this}if((e=BOOMR.getPerformance())&&"function"==typeof e.getEntriesByType){if((t=e.getEntriesByType("paint"))&&t.length){BOOMR.info("This user agent supports PaintTiming","pt");for(i=0;i<t.length;i++){r.timingCache[t[i].name]=t[i].startTime;o[t[i].name]&&BOOMR.addVar("pt."+o[t[i].name],Math.floor(t[i].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0},onObserver:function(e){e=e.getEntries();if(0!==e.length){var e=e[e.length-1],n=e.renderTime||e.loadTime;r.timingCache[e.entryType]=n;BOOMR.addVar("pt.lcp",Math.floor(n),!0);r.externalMetrics.lcp=function(){return Math.floor(n)}}}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){r.complete=!0;r.initialized=!0}if(!r.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("pt.hid",1,!0);r.complete=!0}if(!r.initialized){BOOMR.subscribe("page_ready",r.done,"load",r);BOOMR.subscribe("xhr_load",r.done,"xhr",r);BOOMR.subscribe("before_unload",r.done,null,r);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof window.LargestContentfulPaint){r.observer=new BOOMR.window.PerformanceObserver(r.onObserver);r.observer.observe({type:"largest-contentful-paint",buffered:!0})}r.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return r.initialized&&this.is_supported()},is_supported:function(){if(null!==r.supported)return r.supported;var e=BOOMR.getPerformance();r.supported=e&&"undefined"!=typeof window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType;return r.supported},getTimingFor:function(e){var n,t;if(r.timingCache[e])return r.timingCache[e];if(this.is_supported()){var i=BOOMR.getPerformance();if(i&&"function"==typeof i.getEntriesByType&&(n=i.getEntriesByType("paint"))&&n.length)for(t=0;t<n.length;t++)if(n[t].name===e){r.timingCache[e]=n[t].startTime;return r.timingCache[e]}}},metrics:r.externalMetrics}}}();!function(){if(!BOOMR.plugins.NavigationTiming){var c={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(e){var n;if(e&&"spa_hard"===e.initiator)c.done(e);else if(e&&"spa"===e.initiator)c.sendBeacon();else{BOOMR.window;var t,i={};if(e){e.data&&(e=e.data);if((n=BOOMR.getPerformance())&&e.restiming){i={nt_red_st:e.restiming.redirectStart,nt_red_end:e.restiming.redirectEnd,nt_fet_st:e.restiming.fetchStart,nt_dns_st:e.restiming.domainLookupStart,nt_dns_end:e.restiming.domainLookupEnd,nt_con_st:e.restiming.connectStart,nt_con_end:e.restiming.connectEnd,nt_req_st:e.restiming.requestStart,nt_res_st:e.restiming.responseStart,nt_res_end:e.restiming.responseEnd};e.restiming.secureConnectionStart&&(i.nt_ssl_st=e.restiming.secureConnectionStart);for(t in i)if(i.hasOwnProperty(t)&&i[t]){i[t]+=n.timing.navigationStart;i[t]=Math.floor(i[t])}}if(e.timing){e=e.timing;i.nt_req_st||(i.nt_req_st=e.requestStart);i.nt_res_st||(i.nt_res_st=e.responseStart);i.nt_res_end||(i.nt_res_end=e.responseEnd);i.nt_domint=e.domInteractive;i.nt_domcomp=e.domComplete;i.nt_load_st=e.loadEventEnd;i.nt_load_end=e.loadEventEnd}for(t in i)i.hasOwnProperty(t)&&!i[t]&&delete i[t];BOOMR.addVar(i,undefined,!0);c.sendBeacon()}}},done:function(){var e,n,t,i,o,r=BOOMR.window,a={},s=0,u=!1;if(this.complete)return this;if(e=BOOMR.getPerformance()){if("function"==typeof e.getEntriesByType)if((t=e.getEntriesByType("navigation"))&&t.length){BOOMR.info("This user agent supports NavigationTiming2","nt");t=t[0];s=e.timing?e.timing.navigationStart:0}else t=undefined;if(!t&&e.timing){BOOMR.info("This user agent supports NavigationTiming","nt");t=e.timing}if(t){!(a={nt_nav_st:e.timing?e.timing.navigationStart:0,nt_red_st:l(s,t.redirectStart),nt_red_end:l(s,t.redirectEnd),nt_fet_st:l(s,t.fetchStart),nt_dns_st:l(s,t.domainLookupStart),nt_dns_end:l(s,t.domainLookupEnd),nt_con_st:l(s,t.connectStart),nt_con_end:l(s,t.connectEnd),nt_req_st:l(s,t.requestStart),nt_res_st:l(s,t.responseStart),nt_res_end:l(s,t.responseEnd),nt_domloading:l(s,t.domLoading),nt_domint:l(s,t.domInteractive),nt_domcontloaded_st:l(s,t.domContentLoadedEventStart),nt_domcontloaded_end:l(s,t.domContentLoadedEventEnd),nt_domcomp:l(s,t.domComplete),nt_load_st:l(s,t.loadEventStart),nt_load_end:l(s,t.loadEventEnd),nt_unload_st:l(s,t.unloadEventStart),nt_unload_end:l(s,t.unloadEventEnd)}).nt_domloading&&e&&e.timing&&e.timing.domLoading&&(a.nt_domloading=e.timing.domLoading);t.secureConnectionStart&&(a.nt_ssl_st=l(s,t.secureConnectionStart));e.timing&&e.timing.msFirstPaint&&(a.nt_first_paint=e.timing.msFirstPaint);t.workerStart&&(a.nt_worker_start=l(s,t.workerStart));if(t.decodedBodySize||t.transferSize){a.nt_enc_size=t.encodedBodySize;a.nt_dec_size=t.decodedBodySize;a.nt_trn_size=t.transferSize}t.nextHopProtocol&&(a.nt_protocol=t.nextHopProtocol)}if(!a.nt_first_paint&&BOOMR.plugins.PaintTiming){u=BOOMR.plugins.PaintTiming.is_supported();(i=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(a.nt_first_paint=l(s,i))}if((!a.nt_protocol||!a.nt_first_paint)&&(!t||""!==t.nextHopProtocol)&&!u&&r.chrome&&"function"==typeof r.chrome.loadTimes&&(n=r.chrome.loadTimes())){a.nt_spdy=n.wasFetchedViaSpdy?1:0;a.nt_cinf=n.connectionInfo;"number"==typeof n.firstPaintTime&&0!==n.firstPaintTime&&(a.nt_first_paint=Math.round(1e3*n.firstPaintTime))}if(e.navigation){e=e.navigation;a.nt_red_cnt=e.redirectCount;a.nt_nav_type=e.type}for(o in a)a.hasOwnProperty(o)&&a[o]===undefined&&delete a[o];BOOMR.addVar(a,undefined,!0);t&&(t.requestStart&&t.navigationStart&&t.requestStart<t.navigationStart||t.responseStart&&t.navigationStart&&t.responseStart<t.navigationStart||t.responseStart&&t.fetchStart&&t.responseStart<t.fetchStart||t.navigationStart&&t.fetchStart<t.navigationStart||t.responseEnd&&t.responseEnd>BOOMR.now()+864e5)&&BOOMR.addVar("nt_bad",1,!0);0<a.nt_load_end&&(this.fullySent=!0)}c.sendBeacon()},clear:function(e){this.complete=!(e&&e.early)&&this.fullySent},prerenderToVisible:function(){this.complete=!1;this.done()},onBeforeEarlyBeacon:function(e){e&&"undefined"!=typeof e.initiator&&"spa_hard"!==e.initiator||this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!c.initialized){BOOMR.subscribe("page_ready",c.done,null,c);BOOMR.subscribe("prerender_to_visible",c.prerenderToVisible,null,c);BOOMR.subscribe("before_early_beacon",c.onBeforeEarlyBeacon,null,c);BOOMR.subscribe("xhr_load",c.xhr_done,null,c);BOOMR.subscribe("before_unload",c.done,null,c);BOOMR.subscribe("beacon",c.clear,null,c);c.initialized=!0}return this},is_complete:function(){return!0}}}function l(e,n){return"number"!=typeof n||0===n?undefined:Math.floor((e||0)+n)}}();!function(){if(!BOOMR.plugins.EventTiming){var t={click:0,dblclick:1,mousedown:2,mouseup:3,mousemove:4,touchstart:5,touchend:6,touchmove:7,keydown:8,keyup:9,keypress:10,wheel:11,pointerdown:12,pointerup:13,pointermove:14,compositionstart:17,compositionupdate:18,compositionend:19,contextmenu:20},i={initialized:!1,supported:null,observerEvent:null,observerFirstInput:null,entries:[],firstInputDelay:null,timeToFirstInteraction:null,onBeforeBeacon:function(){if(i.entries&&i.entries.length){for(var e=[],n=0;n<i.entries.length;n++)e.push({n:t[i.entries[n].name]||i.entries[n].name,s:Math.round(i.entries[n].startTime).toString(36),d:Math.round(i.entries[n].duration).toString(36),p:Math.round(i.entries[n].processingEnd-i.entries[n].processingStart).toString(36),c:i.entries[n].cancelable?1:0,fi:"first-input"===i.entries[n].entryType?1:undefined});BOOMR.addVar("et.e",BOOMR.utils.serializeForUrl(e),!0)}i.entries=[];if(null!==i.firstInputDelay){BOOMR.addVar("et.fid",Math.ceil(i.firstInputDelay),!0);i.firstInputDelay=null}},onEventTiming:function(e){i.entries=i.entries.concat(e.getEntries())},onFirstInput:function(e){e=e.getEntries();i.entries=i.entries.concat(e);i.firstInputDelay=e[0].processingStart-e[0].startTime;i.timeToFirstInteraction=e[0].startTime}};BOOMR.plugins.EventTiming={init:function(){this.is_supported()||(i.initialized=!0);if(!i.initialized){BOOMR.subscribe("before_beacon",i.onBeforeBeacon,null,i);try{var e=BOOMR.window;i.observerEvent=new e.PerformanceObserver(i.onEventTiming);i.observerEvent.observe({type:["event"],buffered:!0});i.observerFirstInput=new e.PerformanceObserver(i.onFirstInput);i.observerFirstInput.observe({type:["first-input"],buffered:!0})}catch(n){i.supported=!1}i.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return i.initialized&&this.is_supported()},is_supported:function(){if(null!==i.supported)return i.supported;var e=BOOMR.window,n=BOOMR.getPerformance();i.supported=n&&"undefined"!=typeof e.PerformanceEventTiming&&"function"==typeof e.PerformanceObserver;i.supported&&BOOMR.info("This user agent supports EventTiming","et");return i.supported},stop:function(){if(i.observerEvent){i.observerEvent.disconnect();i.observerEvent=null}if(i.observerFirstInput){i.observerFirstInput.disconnect();i.observerFirstInput=null}},metrics:{count:function(){return i.entries.length},averageDuration:function(){if(0===i.entries.length)return 0;for(var e=0,n=0;n<i.entries.length;n++)e+=i.entries[n].duration;return e/i.entries.length},firstInputDelay:function(){return i.firstInputDelay},timeToFirstInteraction:function(){return i.timeToFirstInteraction}}}}}();BOOMR.t_end=(new Date).getTime();

